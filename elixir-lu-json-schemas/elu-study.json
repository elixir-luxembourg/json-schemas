{
  "description": "Study-Project Schema",
  "title": "A JSON Schema for describing Studies-Projects within the ELIXIR Data Submission System.",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "required": [
    "acronym",
    "title",
    "description",
    "study_types",
    "funding_sources",
    "contacts"
  ],
  "properties": {
    "acronym": {
      "type": "string"
    },
    "title": {
      "type": "string"
    },
    "description": {
      "type": "string"
    },
    "start_date": {
      "type": "string"
    },
    "end_date": {
      "type": "string"
    },
    "descriptors": {
      "type": "array",
      "minItems": 1,
      "items": [
        {
          "type": "string",
          "enum": [
            "Observational",
            "Interventional",
            "Expanded_Access",
            "Longitudinal_Cohort",
            "Cross_Sectional",
            "Case_Control",
            "Case_Set",
            "Control_Set",
            "Parent_Offspring",
            "Unrelated_Individuals",
            "Sibling_Pairs",
            "Family",
            "Pedigree",
            "Preclinical_Trial",
            "Clinical_Trial",
            "Meta_Analysis",
            "Prospective",
            "Retrospective",
            "Phase_I",
            "Phase_II",
            "Phase_III",
            "Phase_IV",
            "Single_Group",
            "Parallel",
            "Cross_Over",
            "Factorial",
            "Randomized",
            "Blind",
            "Controlled",
            "Open",
            "Single_Blind",
            "Double_Blind"
          ]
        }
      ]
    },
    "disease_terms": {
      "$ref": "#/definitions/term_set"
    },
    "gene_id_terms": {
      "$ref": "#/definitions/term_set"
    },
    "phenotype_terms": {
      "$ref": "#/definitions/term_set"
    },
    "funding_sources": {
      "type": "array",
      "items": {
        "type": "string",
        "enum": [
          "IMI",
          "H2020",
          "FP7",
          "NIH",
          "OTHER"
        ]
      }
    },
    "funding_source_description": {
      "type": "string"
    },
    "planning_site": {
      "type": "string"
    },
    "data_standards_implemented": {
      "type": "string"
    },
    "is_multi_site": {
      "type": "boolean"
    },
    "web_page": {
      "type": "string",
      "format": "uri"
    },
    "in_ex_criteria": {
      "type": "string"
    },
    "has_institutional_ethics_approval": {
      "type": "boolean"
    },
    "institutional_ethics_approval_notes": {
      "type": "string"
    },
    "has_national_ethics_approval": {
      "type": "boolean"
    },
    "national_ethics_approval_notes": {
      "type": "string"
    },
    "contacts": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "object",
        "properties": {
          "first_name": {
            "type": "string"
          },
          "last_name": {
            "type": "string"
          },
          "role": {
            "type": "string",
            "enum": [
              "Principal_Investigator",
              "Researcher",
              "Data_Manager",
              "Data_Protection_Officer",
              "Legal_Representative",
              "Other"
            ]
          },
          "email": {
            "type": "string",
            "format": "email"
          },
          "institution": {
            "type": "string"
          },
          "institution_division": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "phone": {
            "type": "string"
          },
          "contact_notes": {
            "type": "string"
          }
        },
        "required": [
          "first_name",
          "last_name",
          "role",
          "email",
          "institution"
        ]
      }
    },
    "publications": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "doi": {
            "type": "string"
          },
          "citation_string": {
            "type": "string"
          }
        },
        "required": [
          "citation_string"
        ]
      }
    }
  },
  "definitions": {
    "term_set": {
      "type": "object",
      "properties": {
        "vocabularyUrl": {
          "type": "string",
          "format": "uri"
        },
        "vocabularyDescription": {
          "type": "string"
        },
        "terms": {
          "type": "array",
          "minItems": 1,
          "items": [
            {
              "type": "string"
            }
          ]
        }
      },
      "required": [
        "terms"
      ]
    }
  }
}
